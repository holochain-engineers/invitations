<section class="relative flex flex-col space-y-3 md:space-y-0 bg-white shadow-lg sm:rounded-3xl sm:p-10 bg-clip-padding bg-opacity-60 border border-gray-200" style="backdrop-filter: blur(20px);">
  <div class="text-lg text-gray-600">  Pending Invitations</div><hr><br>
  <div class="text-sm text-gray-800">  Outgoing invitations</div><br>
  <table mat-table [dataSource]="outgoingInvitations$" class="mat-elevation-z8 shadow-lg sm:rounded-3xl invites-pending-table">
    <ng-container matColumnDef="inviter">
      <th mat-header-cell *matHeaderCellDef> Inviter </th>
      <td mat-cell *matCellDef="let element"> {{hashToAgent(element.invitation.inviter)}} </td>
    </ng-container>
  
    <ng-container matColumnDef="invitees">
      <th mat-header-cell *matHeaderCellDef> Invitees </th>
      <td mat-cell *matCellDef="let element"> {{hashListToAgentList(element.invitation.invitees)}} </td>
    </ng-container>
  
    <ng-container matColumnDef="timestamp">
      <th mat-header-cell *matHeaderCellDef> timestamp </th>
      <td mat-cell *matCellDef="let element"> {{element.invitation.timestamp }} </td>
    </ng-container>

    <ng-container matColumnDef="invitees_who_accepted">
      <th mat-header-cell *matHeaderCellDef> invitees who accepted </th>
      <td mat-cell *matCellDef="let element"> {{hashListToAgentList(element.invitees_who_accepted)}} </td>
    </ng-container>
  
    <ng-container matColumnDef="invitees_who_rejected">
      <th mat-header-cell *matHeaderCellDef> invitees who rejected </th>
      <td mat-cell *matCellDef="let element"> {{hashListToAgentList(element.invitees_who_rejected)}} </td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef> Action </th>
      <td mat-cell *matCellDef="let element"> 
        <button mat-icon-button color="warn" (click)="reject(element.invitation_header_hash)">
          <mat-icon>cancel</mat-icon>
        </button>
      </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <div class="text-sm pt-10 text-gray-800">  Incoming invitations</div><br>
  <table mat-table [dataSource]="incommingInvitations$" class="mat-elevation-z8 shadow-lg sm:rounded-3xl invites-pending-table">
    <ng-container matColumnDef="inviter">
      <th mat-header-cell *matHeaderCellDef> Inviter </th>
      <td mat-cell *matCellDef="let element"> {{hashToAgent(element.invitation.inviter)}} </td>
    </ng-container>
  
    <ng-container matColumnDef="invitees">
      <th mat-header-cell *matHeaderCellDef> Invitees </th>
      <td mat-cell *matCellDef="let element"> {{hashListToAgentList(element.invitation.invitees)}} </td>
    </ng-container>
  
    <ng-container matColumnDef="timestamp">
      <th mat-header-cell *matHeaderCellDef> Timestamp </th>
      <td mat-cell *matCellDef="let element"> {{element.invitation.timestamp }} </td>
    </ng-container>

    <ng-container matColumnDef="invitees_who_accepted">
      <th mat-header-cell *matHeaderCellDef> Invitees who accepted </th>
      <td mat-cell *matCellDef="let element"> {{hashListToAgentList(element.invitees_who_accepted)}} </td>
    </ng-container>
  
    <ng-container matColumnDef="invitees_who_rejected">
      <th mat-header-cell *matHeaderCellDef> Invitees who rejected </th>
      <td mat-cell *matCellDef="let element"> {{hashListToAgentList(element.invitees_who_rejected)}} </td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef> Action </th>
      <td mat-cell *matCellDef="let element"> 
        <button  mat-icon-button color="primary" (click)="accept(element.invitation_header_hash)">
          <mat-icon class="pr-4">check_circle</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="reject(element.invitation_header_hash)">
          <mat-icon>cancel</mat-icon>
        </button>
      </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</section>