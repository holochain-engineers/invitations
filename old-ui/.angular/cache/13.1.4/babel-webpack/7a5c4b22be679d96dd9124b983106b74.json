{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../store/invitation.store\";\nimport * as i2 from \"src/app/store/profile.store\";\nimport * as i3 from \"@angular/common\";\n\nfunction InvitationListComponent_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\", 10);\n    i0.ɵɵelementStart(2, \"td\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 6);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 6);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 6);\n    i0.ɵɵelementStart(13, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function InvitationListComponent_ng_container_24_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const inv_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.cancel(inv_r2.invitation_entry_hash);\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(14, \"svg\", 13);\n    i0.ɵɵelement(15, \"path\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const inv_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.hashToAgent(inv_r2.invitation.inviter));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.hashListToAgentList(inv_r2.invitation.invitees));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(inv_r2.invitation.timestamp);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.hashListToAgentList(inv_r2.invitees_who_accepted));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.hashListToAgentList(inv_r2.invitees_who_rejected));\n  }\n}\n\nfunction InvitationListComponent_ng_container_27_ng_container_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\", 10);\n    i0.ɵɵelementStart(2, \"td\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 6);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 6);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 6);\n    i0.ɵɵelementStart(13, \"div\", 15);\n    i0.ɵɵelementStart(14, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function InvitationListComponent_ng_container_27_ng_container_19_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const inv_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.accept(inv_r6.invitation_entry_hash);\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(15, \"svg\", 13);\n    i0.ɵɵelement(16, \"path\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(17, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function InvitationListComponent_ng_container_27_ng_container_19_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const inv_r6 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.reject(inv_r6.invitation_entry_hash);\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(18, \"svg\", 13);\n    i0.ɵɵelement(19, \"path\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const inv_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r5.hashToAgent(inv_r6.invitation.inviter));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.hashListToAgentList(inv_r6.invitation.invitees));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(inv_r6.invitation.timestamp);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.hashListToAgentList(inv_r6.invitees_who_accepted));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.hashListToAgentList(inv_r6.invitees_who_rejected));\n  }\n}\n\nfunction InvitationListComponent_ng_container_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵtext(2, \"Incoming invitations\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 4);\n    i0.ɵɵelementStart(4, \"thead\", 5);\n    i0.ɵɵelementStart(5, \"tr\");\n    i0.ɵɵelementStart(6, \"th\", 6);\n    i0.ɵɵtext(7, \"Inviter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 6);\n    i0.ɵɵtext(9, \"Invitees\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 6);\n    i0.ɵɵtext(11, \"Timestamp\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 6);\n    i0.ɵɵtext(13, \"Invitees who accepted\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 6);\n    i0.ɵɵtext(15, \"Invitees who rejected\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 6);\n    i0.ɵɵtext(17, \"Action\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"tbody\", 7);\n    i0.ɵɵtemplate(19, InvitationListComponent_ng_container_27_ng_container_19_Template, 20, 5, \"ng-container\", 8);\n    i0.ɵɵpipe(20, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(20, 1, ctx_r1.incommingInvitations$));\n  }\n}\n\nexport class InvitationListComponent {\n  constructor(_invitationStore, _profileStore) {\n    this._invitationStore = _invitationStore;\n    this._profileStore = _profileStore;\n    this.profileDictionary = {};\n    this.outgoingInvitations$ = this._invitationStore.selectUncompletedInvitations().pipe(map(ilist => ilist.filter(inv => inv.invitation.inviter === this._profileStore.mypubkey)));\n    this.incommingInvitations$ = this._invitationStore.selectUncompletedInvitations().pipe(map(ilist => ilist.filter(inv => inv.invitation.inviter === this._profileStore.mypubkey)));\n  }\n\n  ngOnInit() {\n    this.profileDictionarySubscription$ = this._profileStore.selectKeyNickIndexes().subscribe(res => this.profileDictionary = Object.assign({}, ...res)); // .subscribe(res => {this.agentDictionary = Object.assign({}, ...res.map((x) => ({[x.agent_pub_key]: x.nickname})))});\n  }\n\n  ngOnDestroy() {\n    this.profileDictionarySubscription$.unsubscribe();\n  }\n\n  accept(entry_hash) {\n    this._invitationStore.acceptInvitation(entry_hash);\n  }\n\n  reject(entry_hash) {\n    this._invitationStore.rejectInvitation(entry_hash);\n  }\n\n  cancel(entry_hash) {\n    this._invitationStore.clearInvitation(entry_hash);\n  }\n\n  hashToAgent(hash) {\n    //console.log(\"profile_list:\",this.profileDictionary)\n    return this.profileDictionary[hash];\n  }\n\n  hashListToAgentList(hashlist) {\n    const res = [];\n\n    for (const hash of hashlist) {\n      res.push(\" \" + this.profileDictionary[hash]);\n    }\n\n    return res;\n  }\n\n  editInvitation(entry_hash) {//this._invitationStore.editInvitation(entry_hash);\n  }\n\n}\n\nInvitationListComponent.ɵfac = function InvitationListComponent_Factory(t) {\n  return new (t || InvitationListComponent)(i0.ɵɵdirectiveInject(i1.InvitationStore), i0.ɵɵdirectiveInject(i2.ProfileStore));\n};\n\nInvitationListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InvitationListComponent,\n  selectors: [[\"list-invitations\"]],\n  decls: 29,\n  vars: 6,\n  consts: [[1, \"text-gray-600\", \"bg-white\", \"shadow-lg\", \"sm:rounded-3xl\", \"rounded-lg\", \"bg-clip-padding\", \"bg-opacity-60\", \"border\", \"border-gray-200\", \"backdrop-blur-sm\"], [1, \"relative\", \"flex\", \"flex-col\", \"sm:p-8\", \"p-4\"], [1, \"text-lg\"], [1, \"text-sm\", \"mt-2\", \"text-black\"], [1, \"table-auto\", \"text-black\", \"rounded-xl\", \"mt-2\", \"shadow-2xl\", \"overflow-hidden\"], [1, \"bg-gradient-to-tr\", \"from-indigo-600\", \"to-purple-600\", \"text-white\", \"font-bold\", \"text-md\"], [1, \"p-2\"], [1, \"divide-white\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"border-t\"], [1, \"px-2\", \"py-1\"], [\"title\", \"Cancel\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 1000 1000\", 0, \"xml\", \"space\", \"preserve\", 1, \"fill-gray-400\", \"hover:fill-black\", \"w-6\", \"h-6\"], [\"d\", \"M500 10C229.4 10 10 229.4 10 500s219.4 490 490 490 490-219.4 490-490S770.6 10 500 10zm265.1 663.7c25.2 25.2 25.2 66.2 0 91.4-25.2 25.2-66.2 25.2-91.4 0L500 591.4 326.3 765.1c-25.2 25.2-66.2 25.2-91.4 0-25.2-25.2-25.2-66.2 0-91.4L408.6 500 234.9 326.3c-25.2-25.2-25.2-66.2 0-91.4 25.2-25.2 66.2-25.2 91.4 0L500 408.6l173.7-173.7c25.2-25.2 66.2-25.2 91.4 0 25.2 25.2 25.2 66.2 0 91.4L591.4 500l173.7 173.7z\"], [1, \"flex\", \"flex-row\"], [\"title\", \"Accept\", 1, \"mr-2\", 3, \"click\"], [\"d\", \"M500 10C229.4 10 10 229.4 10 500s219.4 490 490 490 490-219.4 490-490S770.6 10 500 10zm-43.3 645.3-43.3 43.3-173.3-173.2 43.3-43.3 130 129.9 303.2-303.2 43.3 43.3-303.2 303.2z\"], [\"title\", \"Reject\", 3, \"click\"]],\n  template: function InvitationListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵtext(3, \" Pending Invitations\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"hr\");\n      i0.ɵɵelement(5, \"br\");\n      i0.ɵɵelementStart(6, \"div\", 3);\n      i0.ɵɵtext(7, \" Outgoing invitations\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"table\", 4);\n      i0.ɵɵelementStart(9, \"thead\", 5);\n      i0.ɵɵelementStart(10, \"tr\");\n      i0.ɵɵelementStart(11, \"th\", 6);\n      i0.ɵɵtext(12, \"Inviter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 6);\n      i0.ɵɵtext(14, \"Invitees\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\", 6);\n      i0.ɵɵtext(16, \"Timestamp\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\", 6);\n      i0.ɵɵtext(18, \"Invitees who accepted\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\", 6);\n      i0.ɵɵtext(20, \"Invitees who rejected\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\", 6);\n      i0.ɵɵtext(22, \"Action\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"tbody\", 7);\n      i0.ɵɵtemplate(24, InvitationListComponent_ng_container_24_Template, 16, 5, \"ng-container\", 8);\n      i0.ɵɵpipe(25, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"br\");\n      i0.ɵɵtemplate(27, InvitationListComponent_ng_container_27_Template, 21, 3, \"ng-container\", 9);\n      i0.ɵɵpipe(28, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(24);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(25, 2, ctx.outgoingInvitations$));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(28, 4, ctx.incommingInvitations$).length > 0);\n    }\n  },\n  directives: [i3.NgForOf, i3.NgIf],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});","map":{"version":3,"sources":["/Users/futorine/dev/holochain/holochain-engineers/team-mates/ui/src/app/components/invitation/list-invitations/list-invitations.component.ts"],"names":["map","i0","i1","i2","i3","InvitationListComponent_ng_container_24_Template","rf","ctx","_r4","ɵɵgetCurrentView","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","InvitationListComponent_ng_container_24_Template_button_click_13_listener","restoredCtx","ɵɵrestoreView","inv_r2","$implicit","ctx_r3","ɵɵnextContext","cancel","invitation_entry_hash","ɵɵnamespaceSVG","ɵɵelement","ɵɵelementContainerEnd","ctx_r0","ɵɵadvance","ɵɵtextInterpolate","hashToAgent","invitation","inviter","hashListToAgentList","invitees","timestamp","invitees_who_accepted","invitees_who_rejected","InvitationListComponent_ng_container_27_ng_container_19_Template","_r8","InvitationListComponent_ng_container_27_ng_container_19_Template_button_click_14_listener","inv_r6","ctx_r7","accept","ɵɵnamespaceHTML","InvitationListComponent_ng_container_27_ng_container_19_Template_button_click_17_listener","ctx_r9","reject","ctx_r5","InvitationListComponent_ng_container_27_Template","ɵɵtemplate","ɵɵpipe","ctx_r1","ɵɵproperty","ɵɵpipeBind1","incommingInvitations$","InvitationListComponent","constructor","_invitationStore","_profileStore","profileDictionary","outgoingInvitations$","selectUncompletedInvitations","pipe","ilist","filter","inv","mypubkey","ngOnInit","profileDictionarySubscription$","selectKeyNickIndexes","subscribe","res","Object","assign","ngOnDestroy","unsubscribe","entry_hash","acceptInvitation","rejectInvitation","clearInvitation","hash","hashlist","push","editInvitation","ɵfac","InvitationListComponent_Factory","t","ɵɵdirectiveInject","InvitationStore","ProfileStore","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","InvitationListComponent_Template","length","directives","NgForOf","NgIf","pipes","AsyncPipe","encapsulation","changeDetection"],"mappings":"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","sourcesContent":["import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../store/invitation.store\";\nimport * as i2 from \"src/app/store/profile.store\";\nimport * as i3 from \"@angular/common\";\nfunction InvitationListComponent_ng_container_24_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\", 10);\n    i0.ɵɵelementStart(2, \"td\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 6);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 6);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 6);\n    i0.ɵɵelementStart(13, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function InvitationListComponent_ng_container_24_Template_button_click_13_listener() { const restoredCtx = i0.ɵɵrestoreView(_r4); const inv_r2 = restoredCtx.$implicit; const ctx_r3 = i0.ɵɵnextContext(); return ctx_r3.cancel(inv_r2.invitation_entry_hash); });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(14, \"svg\", 13);\n    i0.ɵɵelement(15, \"path\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const inv_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.hashToAgent(inv_r2.invitation.inviter));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.hashListToAgentList(inv_r2.invitation.invitees));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(inv_r2.invitation.timestamp);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.hashListToAgentList(inv_r2.invitees_who_accepted));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.hashListToAgentList(inv_r2.invitees_who_rejected));\n} }\nfunction InvitationListComponent_ng_container_27_ng_container_19_Template(rf, ctx) { if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\", 10);\n    i0.ɵɵelementStart(2, \"td\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 6);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 6);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 6);\n    i0.ɵɵelementStart(13, \"div\", 15);\n    i0.ɵɵelementStart(14, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function InvitationListComponent_ng_container_27_ng_container_19_Template_button_click_14_listener() { const restoredCtx = i0.ɵɵrestoreView(_r8); const inv_r6 = restoredCtx.$implicit; const ctx_r7 = i0.ɵɵnextContext(2); return ctx_r7.accept(inv_r6.invitation_entry_hash); });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(15, \"svg\", 13);\n    i0.ɵɵelement(16, \"path\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(17, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function InvitationListComponent_ng_container_27_ng_container_19_Template_button_click_17_listener() { const restoredCtx = i0.ɵɵrestoreView(_r8); const inv_r6 = restoredCtx.$implicit; const ctx_r9 = i0.ɵɵnextContext(2); return ctx_r9.reject(inv_r6.invitation_entry_hash); });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(18, \"svg\", 13);\n    i0.ɵɵelement(19, \"path\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const inv_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r5.hashToAgent(inv_r6.invitation.inviter));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.hashListToAgentList(inv_r6.invitation.invitees));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(inv_r6.invitation.timestamp);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.hashListToAgentList(inv_r6.invitees_who_accepted));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.hashListToAgentList(inv_r6.invitees_who_rejected));\n} }\nfunction InvitationListComponent_ng_container_27_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵtext(2, \"Incoming invitations\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 4);\n    i0.ɵɵelementStart(4, \"thead\", 5);\n    i0.ɵɵelementStart(5, \"tr\");\n    i0.ɵɵelementStart(6, \"th\", 6);\n    i0.ɵɵtext(7, \"Inviter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 6);\n    i0.ɵɵtext(9, \"Invitees\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 6);\n    i0.ɵɵtext(11, \"Timestamp\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 6);\n    i0.ɵɵtext(13, \"Invitees who accepted\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 6);\n    i0.ɵɵtext(15, \"Invitees who rejected\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 6);\n    i0.ɵɵtext(17, \"Action\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"tbody\", 7);\n    i0.ɵɵtemplate(19, InvitationListComponent_ng_container_27_ng_container_19_Template, 20, 5, \"ng-container\", 8);\n    i0.ɵɵpipe(20, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(20, 1, ctx_r1.incommingInvitations$));\n} }\nexport class InvitationListComponent {\n    constructor(_invitationStore, _profileStore) {\n        this._invitationStore = _invitationStore;\n        this._profileStore = _profileStore;\n        this.profileDictionary = {};\n        this.outgoingInvitations$ = this._invitationStore.selectUncompletedInvitations().pipe(map(ilist => ilist.filter(inv => inv.invitation.inviter === this._profileStore.mypubkey)));\n        this.incommingInvitations$ = this._invitationStore.selectUncompletedInvitations().pipe(map(ilist => ilist.filter(inv => inv.invitation.inviter === this._profileStore.mypubkey)));\n    }\n    ngOnInit() {\n        this.profileDictionarySubscription$ = this._profileStore.selectKeyNickIndexes().subscribe(res => this.profileDictionary = Object.assign({}, ...res));\n        // .subscribe(res => {this.agentDictionary = Object.assign({}, ...res.map((x) => ({[x.agent_pub_key]: x.nickname})))});\n    }\n    ngOnDestroy() {\n        this.profileDictionarySubscription$.unsubscribe();\n    }\n    accept(entry_hash) {\n        this._invitationStore.acceptInvitation(entry_hash);\n    }\n    reject(entry_hash) {\n        this._invitationStore.rejectInvitation(entry_hash);\n    }\n    cancel(entry_hash) {\n        this._invitationStore.clearInvitation(entry_hash);\n    }\n    hashToAgent(hash) {\n        //console.log(\"profile_list:\",this.profileDictionary)\n        return this.profileDictionary[hash];\n    }\n    hashListToAgentList(hashlist) {\n        const res = [];\n        for (const hash of hashlist) {\n            res.push(\" \" + this.profileDictionary[hash]);\n        }\n        return res;\n    }\n    editInvitation(entry_hash) {\n        //this._invitationStore.editInvitation(entry_hash);\n    }\n}\nInvitationListComponent.ɵfac = function InvitationListComponent_Factory(t) { return new (t || InvitationListComponent)(i0.ɵɵdirectiveInject(i1.InvitationStore), i0.ɵɵdirectiveInject(i2.ProfileStore)); };\nInvitationListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: InvitationListComponent, selectors: [[\"list-invitations\"]], decls: 29, vars: 6, consts: [[1, \"text-gray-600\", \"bg-white\", \"shadow-lg\", \"sm:rounded-3xl\", \"rounded-lg\", \"bg-clip-padding\", \"bg-opacity-60\", \"border\", \"border-gray-200\", \"backdrop-blur-sm\"], [1, \"relative\", \"flex\", \"flex-col\", \"sm:p-8\", \"p-4\"], [1, \"text-lg\"], [1, \"text-sm\", \"mt-2\", \"text-black\"], [1, \"table-auto\", \"text-black\", \"rounded-xl\", \"mt-2\", \"shadow-2xl\", \"overflow-hidden\"], [1, \"bg-gradient-to-tr\", \"from-indigo-600\", \"to-purple-600\", \"text-white\", \"font-bold\", \"text-md\"], [1, \"p-2\"], [1, \"divide-white\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"border-t\"], [1, \"px-2\", \"py-1\"], [\"title\", \"Cancel\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 1000 1000\", 0, \"xml\", \"space\", \"preserve\", 1, \"fill-gray-400\", \"hover:fill-black\", \"w-6\", \"h-6\"], [\"d\", \"M500 10C229.4 10 10 229.4 10 500s219.4 490 490 490 490-219.4 490-490S770.6 10 500 10zm265.1 663.7c25.2 25.2 25.2 66.2 0 91.4-25.2 25.2-66.2 25.2-91.4 0L500 591.4 326.3 765.1c-25.2 25.2-66.2 25.2-91.4 0-25.2-25.2-25.2-66.2 0-91.4L408.6 500 234.9 326.3c-25.2-25.2-25.2-66.2 0-91.4 25.2-25.2 66.2-25.2 91.4 0L500 408.6l173.7-173.7c25.2-25.2 66.2-25.2 91.4 0 25.2 25.2 25.2 66.2 0 91.4L591.4 500l173.7 173.7z\"], [1, \"flex\", \"flex-row\"], [\"title\", \"Accept\", 1, \"mr-2\", 3, \"click\"], [\"d\", \"M500 10C229.4 10 10 229.4 10 500s219.4 490 490 490 490-219.4 490-490S770.6 10 500 10zm-43.3 645.3-43.3 43.3-173.3-173.2 43.3-43.3 130 129.9 303.2-303.2 43.3 43.3-303.2 303.2z\"], [\"title\", \"Reject\", 3, \"click\"]], template: function InvitationListComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtext(3, \" Pending Invitations\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"hr\");\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵtext(7, \" Outgoing invitations\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"table\", 4);\n        i0.ɵɵelementStart(9, \"thead\", 5);\n        i0.ɵɵelementStart(10, \"tr\");\n        i0.ɵɵelementStart(11, \"th\", 6);\n        i0.ɵɵtext(12, \"Inviter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\", 6);\n        i0.ɵɵtext(14, \"Invitees\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"th\", 6);\n        i0.ɵɵtext(16, \"Timestamp\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"th\", 6);\n        i0.ɵɵtext(18, \"Invitees who accepted\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"th\", 6);\n        i0.ɵɵtext(20, \"Invitees who rejected\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"th\", 6);\n        i0.ɵɵtext(22, \"Action\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"tbody\", 7);\n        i0.ɵɵtemplate(24, InvitationListComponent_ng_container_24_Template, 16, 5, \"ng-container\", 8);\n        i0.ɵɵpipe(25, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"br\");\n        i0.ɵɵtemplate(27, InvitationListComponent_ng_container_27_Template, 21, 3, \"ng-container\", 9);\n        i0.ɵɵpipe(28, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(25, 2, ctx.outgoingInvitations$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(28, 4, ctx.incommingInvitations$).length > 0);\n    } }, directives: [i3.NgForOf, i3.NgIf], pipes: [i3.AsyncPipe], encapsulation: 2, changeDetection: 0 });\n"]},"metadata":{},"sourceType":"module"}